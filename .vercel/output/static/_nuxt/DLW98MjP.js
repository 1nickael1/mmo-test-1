import{c as V,b as z,_ as N,a as A}from"./gFKvgYVH.js";import{_ as D}from"./MSWrGCcy.js";import{_ as S}from"./BePr-7gU.js";import{_ as E}from"./DPT98cEI.js";import{e as P,r as v,g as F,c as l,a as e,h as u,i as m,b as i,w as d,F as L,j as O,k as h,o as n,t as o,l as b,d as f,m as U,n as q}from"#entry";import{u as G}from"./BmWNdDnL.js";import"./BEHD0UYf.js";const H={class:"space-y-8"},M={key:0,class:"flex justify-center"},Q={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center"},X={class:"text-lg font-semibold text-gray-900 dark:text-white"},J={class:"text-sm text-gray-600 dark:text-gray-400"},K={class:"text-2xl font-bold text-red-600 dark:text-red-400"},R={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},W={key:1,class:"text-center py-8"},Y={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},Z={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},tt={key:1,class:"space-y-2"},et={class:"grid grid-cols-2 gap-2 text-sm"},at={key:0,class:"flex justify-between"},st={class:"font-medium text-red-600 dark:text-red-400"},rt={key:1,class:"flex justify-between"},nt={class:"font-medium text-blue-600 dark:text-blue-400"},ot={key:2,class:"flex justify-between"},lt={class:"font-medium text-green-600 dark:text-green-400"},dt={key:3,class:"text-center py-12"},gt=P({__name:"inventario",setup(it){const s=G(),c=v(!1),y=v([]),k=r=>{switch(r){case"potion":return"border-green-200 hover:border-green-300";case"weapon":return"border-red-200 hover:border-red-300";case"armor":return"border-blue-200 hover:border-blue-300";case"consumable":return"border-yellow-200 hover:border-yellow-300";default:return""}},C=r=>{switch(r){case"potion":return"default";case"weapon":return"destructive";case"armor":return"secondary";case"consumable":return"outline";default:return"default"}},w=r=>{switch(r){case"potion":return"PoÃ§Ã£o";case"weapon":return"Arma";case"armor":return"Armadura";case"consumable":return"ConsumÃ­vel";default:return"Item"}},_=async()=>{if(s.currentCharacter){c.value=!0;try{const r=h("@mmo/ninja/token"),t=await $fetch(`/api/inventory/${s.currentCharacter.id}`,{headers:{Authorization:`Bearer ${r.value}`}});y.value=t.data||[]}catch{}finally{c.value=!1}}},$=async r=>{if(s.currentCharacter){c.value=!0;try{const t=h("@mmo/ninja/token"),x=await $fetch("/api/inventory/use",{method:"POST",headers:{Authorization:`Bearer ${t.value}`},body:{character_id:s.currentCharacter.id,item_id:r.id}});x.success&&(await _(),await s.loadCharacters(),alert(x.data.effect))}catch(t){alert(t.data?.message||"Erro ao usar item")}finally{c.value=!1}}};return F(async()=>{s.currentCharacter||(await s.loadCharacters(),s.characters.length>0&&s.selectCharacter(s.characters[0])),await _()}),(r,t)=>{const x=z,p=V,j=D,B=A,I=S,T=N,g=E;return n(),l("div",H,[t[12]||(t[12]=e("div",{class:"text-center"},[e("h1",{class:"text-2xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2"}," InventÃ¡rio "),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"}," Gerencie seus itens e consumÃ­veis ")],-1)),m(s).currentCharacter?(n(),l("div",M,[i(p,{class:"w-full max-w-2xl"},{default:d(()=>[i(x,{class:"p-4 md:p-6"},{default:d(()=>[e("div",Q,[e("div",null,[e("h3",X,o(m(s).currentCharacter.name),1),e("p",J," NÃ­vel "+o(m(s).currentCharacter.level),1)]),e("div",null,[e("div",K,o(m(s).currentCharacter.stats.health)+"/"+o(m(s).currentCharacter.stats.max_health),1),t[1]||(t[1]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Vida",-1))]),e("div",null,[e("div",R,o(m(s).currentCharacter.xp),1),t[2]||(t[2]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"XP",-1))])])]),_:1})]),_:1})])):u("",!0),c.value?(n(),l("div",W,[...t[3]||(t[3]=[e("div",{class:"text-lg text-gray-600 dark:text-gray-400"}," Carregando inventÃ¡rio... ",-1)])])):y.value.length>0?(n(),l("div",Y,[(n(!0),l(L,null,O(y.value,a=>(n(),b(p,{key:a.id,class:U(["hover:shadow-lg transition-all duration-200",k(a.item_type)])},{default:d(()=>[i(T,null,{default:d(()=>[i(B,{class:"flex items-center justify-between"},{default:d(()=>[e("span",null,o(a.item_name),1),i(j,{variant:C(a.item_type)},{default:d(()=>[f(o(w(a.item_type)),1)]),_:2},1032,["variant"])]),_:2},1024),i(I,null,{default:d(()=>[f(" Quantidade: "+o(a.quantity),1)]),_:2},1024)]),_:2},1024),i(x,{class:"space-y-4"},{default:d(()=>[a.description?(n(),l("div",Z,o(a.description),1)):u("",!0),a.stats&&Object.keys(a.stats).length>0?(n(),l("div",tt,[t[7]||(t[7]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Efeitos: ",-1)),e("div",et,[a.stats.damage?(n(),l("div",at,[t[4]||(t[4]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Dano:",-1)),e("span",st," +"+o(a.stats.damage),1)])):u("",!0),a.stats.defense?(n(),l("div",rt,[t[5]||(t[5]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Defesa:",-1)),e("span",nt," +"+o(a.stats.defense),1)])):u("",!0),a.stats.health_bonus?(n(),l("div",ot,[t[6]||(t[6]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Vida:",-1)),e("span",lt," +"+o(a.stats.health_bonus),1)])):u("",!0)])])):u("",!0),a.item_type==="potion"||a.item_type==="consumable"?(n(),b(g,{key:2,class:"w-full",disabled:c.value,onClick:ct=>$(a)},{default:d(()=>[f(o(c.value?"Usando...":"Usar"),1)]),_:1},8,["disabled","onClick"])):u("",!0)]),_:2},1024)]),_:2},1032,["class"]))),128))])):(n(),l("div",dt,[t[9]||(t[9]=e("div",{class:"text-6xl mb-4"},"ðŸŽ’",-1)),t[10]||(t[10]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," InventÃ¡rio vazio ",-1)),t[11]||(t[11]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Complete batalhas e missÃµes para ganhar itens! ",-1)),i(g,{onClick:t[0]||(t[0]=a=>("navigateTo"in r?r.navigateTo:m(q))("/batalhas")),size:"lg"},{default:d(()=>[...t[8]||(t[8]=[f(" Ir para Batalhas ",-1)])]),_:1})]))])}}});export{gt as default};
