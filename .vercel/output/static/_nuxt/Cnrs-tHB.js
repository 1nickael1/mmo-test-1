import{c as R,b as j,_ as A,a as E}from"./gFKvgYVH.js";import{_ as S}from"./DPT98cEI.js";import{u as V}from"./BmWNdDnL.js";import{e as O,r as k,g as F,c as o,a as e,h as g,i as p,b as t,w as a,k as M,o as i,t as n,F as I,j as T,m as D,d as f}from"#entry";import"./BEHD0UYf.js";const L={class:"space-y-8"},P={key:0,class:"flex justify-center"},Q={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center"},U={class:"text-lg font-semibold text-gray-900 dark:text-white"},q={class:"text-sm text-gray-600 dark:text-gray-400"},H={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},X={class:"text-2xl font-bold text-green-600 dark:text-green-400"},G={key:1,class:"flex justify-center"},J={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-center"},K={class:"text-2xl"},W={class:"text-sm text-gray-600 dark:text-gray-400 capitalize"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 max-w-4xl mx-auto"},Z={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},ee={class:"text-sm space-y-1"},se={key:0},te={key:1},ae={class:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg"},le={class:"text-sm space-y-1"},re={key:0},ne={key:1},oe={key:2,class:"max-w-2xl mx-auto"},ie={class:"text-center space-y-4"},de={class:"space-y-2"},ce={class:"text-gray-600 dark:text-gray-400"},ue={class:"flex justify-center gap-4"},me={key:0,class:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg"},xe={class:"font-semibold"},pe={key:1,class:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg"},ge={class:"font-semibold"},ye={class:"max-w-4xl mx-auto"},he=O({__name:"mineracao",setup(fe){const l=V(),y=k([]),m=k(!1),c=k(null),C=async()=>{if(l.currentCharacter)try{const r=M("@mmo/ninja/token"),s=await $fetch(`/api/resources/${l.currentCharacter.id}`,{headers:{Authorization:`Bearer ${r.value}`}});y.value=s.data||[]}catch{}},h=async r=>{if(!(!l.currentCharacter||m.value)){m.value=!0;try{const s=M("@mmo/ninja/token"),d=await $fetch("/api/mining/start",{method:"POST",headers:{Authorization:`Bearer ${s.value}`},body:{character_id:l.currentCharacter.id,mining_type:r}});d.success&&(c.value=d.data,await C())}catch{}finally{m.value=!1}}},w=r=>{const s=y.value.find(d=>d.resource_type===r);return s?s.amount:0},$=r=>({ouro:"ü™ô",materiais:"‚öôÔ∏è",cristais:"üíé"})[r]||"‚ùì",B=r=>({ouro:"text-yellow-600 dark:text-yellow-400",materiais:"text-gray-600 dark:text-gray-400",cristais:"text-purple-600 dark:text-purple-400"})[r]||"text-gray-600 dark:text-gray-400",z=()=>{const r=l.currentCharacter?.level||1,s=Math.floor(r/5)+1;return`${s}-${s+2}`},N=()=>{const r=l.currentCharacter?.level||1,s=Math.floor(r/10)+1;return`${s}-${s+1}`};return F(async()=>{l.currentCharacter||(await l.loadCharacters(),l.characters.length>0&&l.selectCharacter(l.characters[0])),await C()}),(r,s)=>{const d=j,x=R,v=E,_=A,b=S;return i(),o("div",L,[s[22]||(s[22]=e("div",{class:"text-center"},[e("h1",{class:"text-2xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2"}," Minera√ß√£o "),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"}," Colete materiais e cristais para suas melhorias ")],-1)),p(l).currentCharacter?(i(),o("div",P,[t(x,{class:"w-full max-w-2xl"},{default:a(()=>[t(d,{class:"p-4 md:p-6"},{default:a(()=>[e("div",Q,[e("div",null,[e("h3",U,n(p(l).currentCharacter.name),1),e("p",q," N√≠vel "+n(p(l).currentCharacter.level),1)]),e("div",null,[e("div",H,n(p(l).currentCharacter.xp),1),s[3]||(s[3]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"XP",-1))]),e("div",null,[e("div",X,n(w("ouro")),1),s[4]||(s[4]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Ouro",-1))])])]),_:1})]),_:1})])):g("",!0),y.value.length>0?(i(),o("div",G,[t(x,{class:"w-full max-w-2xl"},{default:a(()=>[t(d,{class:"p-4 md:p-6"},{default:a(()=>[e("div",J,[(i(!0),o(I,null,T(y.value,u=>(i(),o("div",{key:u.resource_type,class:"space-y-2"},[e("div",K,n($(u.resource_type)),1),e("div",{class:D(["text-lg font-bold",B(u.resource_type)])},n(u.amount.toLocaleString()),3),e("div",W,n(u.resource_type),1)]))),128))])]),_:1})]),_:1})])):g("",!0),e("div",Y,[t(x,null,{default:a(()=>[t(_,null,{default:a(()=>[t(v,{class:"flex items-center gap-2"},{default:a(()=>[...s[5]||(s[5]=[e("span",{class:"text-2xl"},"‚öôÔ∏è",-1),f(" Minera√ß√£o de Materiais ",-1)])]),_:1})]),_:1}),t(d,{class:"space-y-4"},{default:a(()=>[s[8]||(s[8]=e("p",{class:"text-gray-600 dark:text-gray-400"}," Colete materiais essenciais para melhorias de base e equipamentos. ",-1)),e("div",Z,[s[7]||(s[7]=e("h4",{class:"font-semibold mb-2"},"Recompensas Esperadas:",-1)),e("ul",ee,[e("li",null,"‚Ä¢ Materiais: "+n(z())+" unidades",1),e("li",null," ‚Ä¢ Baseado no n√≠vel: "+n(p(l).currentCharacter?.level||1),1),s[6]||(s[6]=e("li",null,"‚Ä¢ Chance de b√¥nus: 50%",-1))])]),s[9]||(s[9]=e("div",{class:"space-y-2"},[e("h4",{class:"font-semibold"},"Como Obter Materiais:"),e("ul",{class:"text-sm space-y-1 text-gray-600 dark:text-gray-400"},[e("li",null,"‚Ä¢ Minera√ß√£o (esta p√°gina)"),e("li",null,"‚Ä¢ Batalhas (40% de chance)"),e("li",null,"‚Ä¢ Miss√µes especiais")])],-1)),t(b,{onClick:s[0]||(s[0]=u=>h("materials")),disabled:m.value,class:"w-full",size:"lg"},{default:a(()=>[m.value?(i(),o("span",se,"Minerando...")):(i(),o("span",te,"Iniciar Minera√ß√£o de Materiais"))]),_:1},8,["disabled"])]),_:1})]),_:1}),t(x,null,{default:a(()=>[t(_,null,{default:a(()=>[t(v,{class:"flex items-center gap-2"},{default:a(()=>[...s[10]||(s[10]=[e("span",{class:"text-2xl"},"üíé",-1),f(" Minera√ß√£o de Cristais ",-1)])]),_:1})]),_:1}),t(d,{class:"space-y-4"},{default:a(()=>[s[13]||(s[13]=e("p",{class:"text-gray-600 dark:text-gray-400"}," Colete cristais raros para melhorias avan√ßadas e constru√ß√µes especiais. ",-1)),e("div",ae,[s[12]||(s[12]=e("h4",{class:"font-semibold mb-2"},"Recompensas Esperadas:",-1)),e("ul",le,[e("li",null,"‚Ä¢ Cristais: "+n(N())+" unidades",1),e("li",null," ‚Ä¢ Baseado no n√≠vel: "+n(p(l).currentCharacter?.level||1),1),s[11]||(s[11]=e("li",null,"‚Ä¢ Chance de b√¥nus: 50%",-1))])]),s[14]||(s[14]=e("div",{class:"space-y-2"},[e("h4",{class:"font-semibold"},"Como Obter Cristais:"),e("ul",{class:"text-sm space-y-1 text-gray-600 dark:text-gray-400"},[e("li",null,"‚Ä¢ Minera√ß√£o (esta p√°gina)"),e("li",null,"‚Ä¢ Batalhas (10% de chance)"),e("li",null,"‚Ä¢ Miss√µes de elite"),e("li",null,"‚Ä¢ Modo hist√≥ria (cap√≠tulos avan√ßados)")])],-1)),t(b,{onClick:s[1]||(s[1]=u=>h("crystals")),disabled:m.value,class:"w-full",size:"lg",variant:"outline"},{default:a(()=>[m.value?(i(),o("span",re,"Minerando...")):(i(),o("span",ne,"Iniciar Minera√ß√£o de Cristais"))]),_:1},8,["disabled"])]),_:1})]),_:1})]),c.value?(i(),o("div",oe,[t(x,{class:"border-green-200 dark:border-green-800"},{default:a(()=>[t(d,{class:"p-6"},{default:a(()=>[e("div",ie,[s[18]||(s[18]=e("div",{class:"text-4xl"},"üéâ",-1)),s[19]||(s[19]=e("h3",{class:"text-xl font-semibold text-green-600 dark:text-green-400"}," Minera√ß√£o Conclu√≠da! ",-1)),e("div",de,[e("p",ce," Voc√™ minerou "+n(c.value.mining_type)+": ",1),e("div",ue,[c.value.rewards.materials?(i(),o("div",me,[s[15]||(s[15]=e("span",{class:"text-xl"},"‚öôÔ∏è",-1)),e("span",xe," +"+n(c.value.rewards.materials)+" Materiais ",1)])):g("",!0),c.value.rewards.crystals?(i(),o("div",pe,[s[16]||(s[16]=e("span",{class:"text-xl"},"üíé",-1)),e("span",ge," +"+n(c.value.rewards.crystals)+" Cristais ",1)])):g("",!0)])]),t(b,{onClick:s[2]||(s[2]=u=>c.value=null),variant:"outline",size:"sm"},{default:a(()=>[...s[17]||(s[17]=[f(" Fechar ",-1)])]),_:1})])]),_:1})]),_:1})])):g("",!0),e("div",ye,[t(x,null,{default:a(()=>[t(_,null,{default:a(()=>[t(v,null,{default:a(()=>[...s[20]||(s[20]=[f("üí° Dicas de Minera√ß√£o",-1)])]),_:1})]),_:1}),t(d,null,{default:a(()=>[...s[21]||(s[21]=[e("div",{class:"grid md:grid-cols-2 gap-6"},[e("div",null,[e("h4",{class:"font-semibold mb-2"},"Materiais:"),e("ul",{class:"text-sm space-y-1 text-gray-600 dark:text-gray-400"},[e("li",null,"‚Ä¢ Usados para melhorias b√°sicas"),e("li",null,"‚Ä¢ Necess√°rios para constru√ß√µes"),e("li",null,"‚Ä¢ Mais f√°ceis de obter"),e("li",null,"‚Ä¢ Quantidade aumenta com o n√≠vel")])]),e("div",null,[e("h4",{class:"font-semibold mb-2"},"Cristais:"),e("ul",{class:"text-sm space-y-1 text-gray-600 dark:text-gray-400"},[e("li",null,"‚Ä¢ Usados para melhorias avan√ßadas"),e("li",null,"‚Ä¢ Necess√°rios para constru√ß√µes especiais"),e("li",null,"‚Ä¢ Mais raros e valiosos"),e("li",null,"‚Ä¢ Quantidade limitada mesmo em n√≠veis altos")])])],-1)])]),_:1})]),_:1})])])}}});export{he as default};
