import{e as P,r as m,f as _,g as R,c as n,a as s,h as d,i,t as o,F as v,j as h,b as c,w as l,k as q,o as r,l as k,d as g,m as D,n as H}from"#entry";import{_ as b}from"./MSWrGCcy.js";import{_ as C}from"./DPT98cEI.js";import{_ as N,a as V,b as j,c as T}from"./gFKvgYVH.js";import{u as J}from"./BmWNdDnL.js";import"./BEHD0UYf.js";const K={class:"space-y-8"},Q={key:0,class:"bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6 shadow"},U={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},W={class:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white"},X={class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"},Y={class:"flex items-center space-x-2"},Z={class:"font-semibold text-black dark:text-white text-lg"},I={key:1,class:"text-center py-8"},ee={key:2,class:"mb-8"},te={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},se={class:"flex items-center justify-between"},ae={key:0,class:"space-y-2"},re={class:"grid grid-cols-2 gap-2 text-sm"},ne={key:0,class:"flex justify-between"},oe={class:"font-medium text-red-600"},ie={key:1,class:"flex justify-between"},le={class:"font-medium text-blue-600"},de={key:2,class:"flex justify-between"},ue={class:"font-medium text-green-600"},ce={key:3,class:"flex justify-between"},ge={class:"font-medium text-purple-600"},pe={key:4,class:"flex justify-between"},fe={class:"font-medium text-orange-600"},xe={class:"mt-3"},ye={class:"text-4xl mb-2 opacity-50"},me={class:"text-gray-500 dark:text-gray-400 text-sm"},_e={class:"space-y-6"},ve={class:"flex flex-wrap gap-2"},he={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"},ke={class:"flex items-center justify-between"},be={class:"flex items-center space-x-2"},we={key:0,class:"space-y-2"},qe={class:"grid grid-cols-2 gap-2 text-sm"},Ce={key:0,class:"flex justify-between"},je={class:"font-medium text-red-600"},Te={key:1,class:"flex justify-between"},$e={class:"font-medium text-blue-600"},Ee={key:2,class:"flex justify-between"},Ae={class:"font-medium text-green-600"},Be={key:3,class:"flex justify-between"},De={class:"font-medium text-purple-600"},Ne={key:4,class:"flex justify-between"},Ve={class:"font-medium text-orange-600"},ze={key:1,class:"text-center py-12"},Re=P({__name:"equipamentos",setup(Ge){const u=J(),p=m([]),f=m(!1),y=m("Todos"),$=m(0),z=_(()=>{const a=["Todos"];return p.value.forEach(e=>{a.includes(e.equipment_type)||a.push(e.equipment_type)}),a}),E=_(()=>{const a=p.value.filter(e=>!e.equipped);return y.value==="Todos"?a:a.filter(e=>e.equipment_type===y.value)}),A=_(()=>p.value.filter(a=>a.equipped)),G=_(()=>{const a=A.value.map(t=>t.equipment_type);return["weapon","armor","accessory"].filter(t=>!a.includes(t))}),w=a=>{switch(a){case"weapon":return"⚔️";case"armor":return"🛡️";case"accessory":return"💍";default:return"❓"}},F=a=>{switch(a){case"weapon":return"Arma";case"armor":return"Armadura";case"accessory":return"Acessório";default:return"Desconhecido"}},S=a=>{switch(a){case"weapon":return"destructive";case"armor":return"default";case"accessory":return"secondary";default:return"outline"}},B=async()=>{if(u.currentCharacter){f.value=!0;try{const a=q("@mmo/ninja/token"),e=await $fetch(`/api/equipment/${u.currentCharacter.id}`,{method:"GET",headers:{Authorization:`Bearer ${a.value}`}});e.success&&(p.value=e.data||[])}catch{}finally{f.value=!1}}},L=async()=>{if(u.currentCharacter)try{const a=q("@mmo/ninja/token"),e=await $fetch("/api/resources",{method:"GET",headers:{Authorization:`Bearer ${a.value}`},query:{character_id:u.currentCharacter.id}});if(e.success){const t=e.data.find(x=>x.resource_type==="ouro");$.value=t?t.amount:0}}catch{}},M=async a=>{if(u.currentCharacter){f.value=!0;try{const e=q("@mmo/ninja/token"),t=await $fetch("/api/equipment/equip",{method:"POST",headers:{Authorization:`Bearer ${e.value}`},body:{character_id:u.currentCharacter.id,equipment_id:a.id}});if(t.success){const x=p.value.findIndex(O=>O.id===a.id);x!==-1&&(p.value[x].equipped=t.data.equipped),alert(t.message),await B()}}catch(e){alert(e.data?.message||"Erro ao equipar/desequipar item")}finally{f.value=!1}}};return R(async()=>{u.currentCharacter||(await u.loadCharacters(),u.characters.length>0&&u.selectCharacter(u.characters[0])),await B(),await L()}),(a,e)=>(r(),n("div",K,[e[21]||(e[21]=s("div",{class:"text-center"},[s("h1",{class:"text-2xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2"}," Equipamentos "),s("p",{class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"}," Gerencie seus equipamentos e aumente seu poder ")],-1)),i(u).currentCharacter?(r(),n("div",Q,[s("div",U,[s("div",null,[s("h2",W,o(i(u).currentCharacter.name),1),s("p",X," Nível "+o(i(u).currentCharacter.level),1)]),s("div",Y,[e[1]||(e[1]=s("span",{class:"text-yellow-500"},"💰",-1)),s("span",Z,o($.value),1)])])])):d("",!0),f.value?(r(),n("div",I,[...e[2]||(e[2]=[s("div",{class:"text-lg text-gray-600 dark:text-gray-400"}," Carregando equipamentos... ",-1)])])):d("",!0),p.value.length>0?(r(),n("div",ee,[e[9]||(e[9]=s("h2",{class:"text-2xl font-bold text-black dark:text-white mb-4"}," Equipamentos Atuais ",-1)),s("div",te,[(r(!0),n(v,null,h(A.value,t=>(r(),k(i(T),{key:t.id,class:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"},{default:l(()=>[c(i(N),{class:"pb-2"},{default:l(()=>[s("div",se,[c(i(V),{class:"text-lg text-green-800 dark:text-green-200"},{default:l(()=>[g(o(t.equipment_name),1)]),_:2},1024),c(i(b),{variant:"default",class:"bg-green-600 text-white"},{default:l(()=>[g(o(w(t.equipment_type)),1)]),_:2},1024)])]),_:2},1024),c(i(j),null,{default:l(()=>[t.stats?(r(),n("div",ae,[s("div",re,[t.stats.strength?(r(),n("div",ne,[e[3]||(e[3]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Força:",-1)),s("span",oe,"+"+o(t.stats.strength),1)])):d("",!0),t.stats.agility?(r(),n("div",ie,[e[4]||(e[4]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Agilidade:",-1)),s("span",le,"+"+o(t.stats.agility),1)])):d("",!0),t.stats.defense?(r(),n("div",de,[e[5]||(e[5]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Defesa:",-1)),s("span",ue,"+"+o(t.stats.defense),1)])):d("",!0),t.stats.health?(r(),n("div",ce,[e[6]||(e[6]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Vida:",-1)),s("span",ge,"+"+o(t.stats.health),1)])):d("",!0),t.stats.damage?(r(),n("div",pe,[e[7]||(e[7]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Dano:",-1)),s("span",fe,"+"+o(t.stats.damage),1)])):d("",!0)])])):d("",!0),s("div",xe,[c(i(b),{variant:"secondary",class:"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100"},{default:l(()=>[...e[8]||(e[8]=[g(" Equipado ",-1)])]),_:1})])]),_:2},1024)]),_:2},1024))),128)),(r(!0),n(v,null,h(G.value,t=>(r(),k(i(T),{key:t,class:"bg-gray-50 dark:bg-gray-800 border-dashed border-2 border-gray-300 dark:border-gray-600"},{default:l(()=>[c(i(j),{class:"flex flex-col items-center justify-center py-8 text-center"},{default:l(()=>[s("div",ye,o(w(t)),1),s("p",me,o(F(t))+" não equipado ",1)]),_:2},1024)]),_:2},1024))),128))])])):d("",!0),s("div",_e,[e[20]||(e[20]=s("h2",{class:"text-2xl font-bold text-black dark:text-white mb-4"}," Equipamentos Disponíveis ",-1)),s("div",ve,[(r(!0),n(v,null,h(z.value,t=>(r(),k(i(C),{key:t,onClick:x=>y.value=t,variant:y.value===t?"default":"outline",size:"sm",class:D(y.value===t?"bg-blue-600 text-white border-blue-600 ring-2 ring-blue-500":"text-gray-900 dark:text-white border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800")},{default:l(()=>[g(o(t),1)]),_:2},1032,["onClick","variant","class"]))),128))]),E.value.length>0?(r(),n("div",he,[(r(!0),n(v,null,h(E.value,t=>(r(),k(i(T),{key:t.id,class:D(["hover:shadow-lg transition-all duration-200",t.equipped?"ring-2 ring-green-500 bg-green-50 dark:bg-green-900/20":""])},{default:l(()=>[c(i(N),null,{default:l(()=>[s("div",ke,[c(i(V),{class:"text-lg text-gray-900 dark:text-white"},{default:l(()=>[g(o(t.equipment_name),1)]),_:2},1024),s("div",be,[c(i(b),{variant:t.equipped?"default":"secondary"},{default:l(()=>[g(o(t.equipped?"Equipado":"Inventário"),1)]),_:2},1032,["variant"]),c(i(b),{variant:S(t.equipment_type)},{default:l(()=>[g(o(w(t.equipment_type)),1)]),_:2},1032,["variant"])])])]),_:2},1024),c(i(j),{class:"space-y-4"},{default:l(()=>[t.stats?(r(),n("div",we,[e[15]||(e[15]=s("h4",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Bônus: ",-1)),s("div",qe,[t.stats.strength?(r(),n("div",Ce,[e[10]||(e[10]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Força:",-1)),s("span",je,"+"+o(t.stats.strength),1)])):d("",!0),t.stats.agility?(r(),n("div",Te,[e[11]||(e[11]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Agilidade:",-1)),s("span",$e,"+"+o(t.stats.agility),1)])):d("",!0),t.stats.defense?(r(),n("div",Ee,[e[12]||(e[12]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Defesa:",-1)),s("span",Ae,"+"+o(t.stats.defense),1)])):d("",!0),t.stats.health?(r(),n("div",Be,[e[13]||(e[13]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Vida:",-1)),s("span",De,"+"+o(t.stats.health),1)])):d("",!0),t.stats.damage?(r(),n("div",Ne,[e[14]||(e[14]=s("span",{class:"text-gray-600 dark:text-gray-400"},"Dano:",-1)),s("span",Ve,"+"+o(t.stats.damage),1)])):d("",!0)])])):d("",!0),c(i(C),{onClick:x=>M(t),disabled:f.value,class:"w-full",variant:t.equipped?"destructive":"default"},{default:l(()=>[g(o(t.equipped?"Desequipar":"Equipar"),1)]),_:2},1032,["onClick","disabled","variant"])]),_:2},1024)]),_:2},1032,["class"]))),128))])):(r(),n("div",ze,[e[17]||(e[17]=s("div",{class:"text-6xl mb-4"},"📦",-1)),e[18]||(e[18]=s("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," Nenhum equipamento disponível para equipar ",-1)),e[19]||(e[19]=s("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Todos os seus equipamentos já estão equipados! Compre mais equipamentos na loja. ",-1)),c(i(C),{onClick:e[0]||(e[0]=t=>i(H)("/loja")),variant:"default"},{default:l(()=>[...e[16]||(e[16]=[g(" Ir para Loja ",-1)])]),_:1})]))])]))}});export{Re as default};
