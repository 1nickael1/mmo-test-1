import{_ as T}from"./MSWrGCcy.js";import{c as E,b as R,_ as X,a as J}from"./gFKvgYVH.js";import{_ as V}from"./DPT98cEI.js";import{e as F,r as b,g as L,c as d,a as e,h as $,i as l,b as i,w as n,F as j,j as N,o,t as r,d as p,l as x,m as g,J as M}from"#entry";import{u as G}from"./BmWNdDnL.js";import{u as z}from"./DHKOOHM0.js";import"./BEHD0UYf.js";const K={class:"space-y-8"},O={key:0,class:"flex justify-center"},Q={class:"text-center"},W={class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},I={class:"flex items-center justify-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4"},U={key:1,class:"text-center py-8"},Y={key:2,class:"space-y-8"},Z={key:0},ee={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ae={class:"space-y-2"},te={class:"text-sm text-gray-600 dark:text-gray-400"},se={class:"flex items-center justify-between text-sm"},re={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ne={key:0,class:"text-green-600 dark:text-green-400"},oe={key:1,class:"text-blue-600 dark:text-blue-400"},le={key:2,class:"text-gray-400"},ce={class:"space-y-3"},de={class:"text-sm text-gray-600 dark:text-gray-400"},ie={class:"space-y-2 text-sm"},ue={class:"flex justify-between"},pe={class:"font-medium"},_e={class:"flex justify-between"},me={class:"font-medium"},xe={class:"flex justify-between"},ge={class:"font-medium"},ve={class:"space-y-1 text-xs"},fe={class:"flex items-center gap-2"},he={class:"flex items-center gap-2"},je=F({__name:"habilidades",setup(ye){const s=G(),k=b(!1),v=b(!1),f=b([]),q=b([]),B={"Kunai Throw":"Ataque √† dist√¢ncia com kunais afiadas","Fire Jutsu":"T√©cnica de fogo que queima o oponente","Wind Jutsu":"T√©cnica de vento que corta como l√¢mina","Shadow Clone":"Cria clones ilus√≥rios para confundir o inimigo",Chidori:"Ataque el√©trico devastador com mil p√°ssaros",Rasengan:"Esfera de energia concentrada e rotativa","Plasma Shot":"Disparo de plasma energ√©tico de alta pot√™ncia","Energy Shield":"Escudo de energia que absorve dano","Gravity Bomb":"Bomba de gravidade que comprime o espa√ßo","Quantum Strike":"Ataque qu√¢ntico que transcende a realidade","Nova Blast":"Explos√£o estelar de poder devastador","Black Hole":"Cria um buraco negro tempor√°rio no campo de batalha"},A=u=>B[u]||"Habilidade especial",w=async()=>{if(s.currentCharacter){k.value=!0;try{const u=await $fetch(`/api/skills/${s.currentCharacter.id}`);f.value=u.data||[];const h=(await $fetch(`/api/skills/available?class=${s.currentCharacter.class}&level=${s.currentCharacter.level}`)).data||[],m=f.value.map(c=>c.skill_name);q.value=h.map(c=>{const y=(s.currentCharacter?.level||0)>=c.level_required,C=(s.currentCharacter?.xp||0)>=c.xp_required,_=m.includes(c.name);return{...c,learned:_,can_learn:y&&C&&!_}})}catch{}finally{k.value=!1}}},S=async u=>{if(s.currentCharacter){v.value=!0;try{(await $fetch("/api/skills/learn",{method:"POST",body:{character_id:s.currentCharacter.id,skill_name:u}})).success&&(await w(),await s.loadCharacters())}catch{}finally{v.value=!1}}},{ensureCharacterSelected:D,onCharacterChange:H}=z();return L(async()=>{await D(),await w(),H(async u=>{await w()})}),(u,t)=>{const h=T,m=R,c=E,y=J,C=X,_=V;return o(),d("div",K,[t[10]||(t[10]=e("div",{class:"text-center"},[e("h1",{class:"text-2xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2"}," Habilidades "),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm md:text-base"}," Desenvolva novas t√©cnicas e jutsus para seu personagem ")],-1)),l(s).currentCharacter?(o(),d("div",O,[i(c,{class:"w-full max-w-md"},{default:n(()=>[i(m,{class:"p-4 md:p-6"},{default:n(()=>[e("div",Q,[e("h2",W,r(l(s).currentCharacter.name),1),e("div",I,[i(h,{variant:l(s).currentCharacter.class==="ninja"?"default":"secondary"},{default:n(()=>[p(r(l(s).currentCharacter.class==="ninja"?"ü•∑ Ninja":"üöÄ Guerreiro"),1)]),_:1},8,["variant"]),e("span",null,"N√≠vel "+r(l(s).currentCharacter.level),1),e("span",null,r(l(s).currentCharacter.xp)+" XP",1)])])]),_:1})]),_:1})])):$("",!0),k.value?(o(),d("div",U,[...t[0]||(t[0]=[e("div",{class:"text-lg text-gray-600 dark:text-gray-400"}," Carregando habilidades... ",-1)])])):(o(),d("div",Y,[f.value.length>0?(o(),d("div",Z,[t[3]||(t[3]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"}," Habilidades Aprendidas ",-1)),e("div",ee,[(o(!0),d(j,null,N(f.value,a=>(o(),x(c,{key:a.id,class:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"},{default:n(()=>[i(C,{class:"pb-2"},{default:n(()=>[i(y,{class:"text-lg flex items-center gap-2"},{default:n(()=>[t[1]||(t[1]=e("span",{class:"text-green-600 dark:text-green-400"},"‚úÖ",-1)),p(" "+r(a.skill_name),1)]),_:2},1024)]),_:2},1024),i(m,null,{default:n(()=>[e("div",ae,[e("p",te,r(a.description||A(a.skill_name)),1),e("div",se,[t[2]||(t[2]=e("span",{class:"text-gray-600 dark:text-gray-400"},"N√≠vel:",-1)),i(h,{variant:"secondary"},{default:n(()=>[p(r(a.level),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))])])):$("",!0),e("div",null,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-4"}," Habilidades Dispon√≠veis ",-1)),e("div",re,[(o(!0),d(j,null,N(q.value,a=>(o(),x(c,{key:a.name,class:g(["transition-all duration-200",a.can_learn?"hover:shadow-lg cursor-pointer":"opacity-60"]),onClick:P=>a.can_learn?S(a.name):null},{default:n(()=>[i(C,{class:"pb-2"},{default:n(()=>[i(y,{class:"text-lg flex items-center gap-2"},{default:n(()=>[a.learned?(o(),d("span",ne,"‚úÖ")):a.can_learn?(o(),d("span",oe,"üéØ")):(o(),d("span",le,"üîí")),p(" "+r(a.name),1)]),_:2},1024)]),_:2},1024),i(m,null,{default:n(()=>[e("div",ce,[e("p",de,r(a.description),1),e("div",ie,[e("div",ue,[t[4]||(t[4]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Custo:",-1)),e("span",pe,r(a.cost)+" ü™ô",1)]),e("div",_e,[t[5]||(t[5]=e("span",{class:"text-gray-600 dark:text-gray-400"},"XP necess√°rio:",-1)),e("span",me,r(a.xp_required)+" XP",1)]),e("div",xe,[t[6]||(t[6]=e("span",{class:"text-gray-600 dark:text-gray-400"},"N√≠vel necess√°rio:",-1)),e("span",ge,r(a.level_required),1)])]),e("div",ve,[e("div",fe,[e("span",{class:g((l(s).currentCharacter?.level||0)>=a.level_required?"text-green-600":"text-red-600")},r((l(s).currentCharacter?.level||0)>=a.level_required?"‚úÖ":"‚ùå"),3),e("span",{class:g((l(s).currentCharacter?.level||0)>=a.level_required?"text-green-600":"text-red-600")}," N√≠vel "+r(a.level_required),3)]),e("div",he,[e("span",{class:g((l(s).currentCharacter?.xp||0)>=a.xp_required?"text-green-600":"text-red-600")},r((l(s).currentCharacter?.xp||0)>=a.xp_required?"‚úÖ":"‚ùå"),3),e("span",{class:g((l(s).currentCharacter?.xp||0)>=a.xp_required?"text-green-600":"text-red-600")},r(a.xp_required)+" XP ",3)])]),a.can_learn?(o(),x(_,{key:0,onClick:M(P=>S(a.name),["stop"]),disabled:v.value,class:"w-full"},{default:n(()=>[p(r(v.value?"Aprendendo...":"Aprender"),1)]),_:1},8,["onClick","disabled"])):a.learned?(o(),x(_,{key:1,disabled:"",variant:"outline",class:"w-full"},{default:n(()=>[...t[7]||(t[7]=[p(" J√° Aprendida ",-1)])]),_:1})):(o(),x(_,{key:2,disabled:"",variant:"outline",class:"w-full"},{default:n(()=>[...t[8]||(t[8]=[p(" Requisitos n√£o atendidos ",-1)])]),_:1}))])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))])])]))])}}});export{je as default};
