import{c as g,_ as C,a as V,b as k}from"./gFKvgYVH.js";import{_ as P,a as u}from"./CTYq_1Fj.js";import{_ as S}from"./DPT98cEI.js";import{_ as $}from"./CIl2gqAq.js";import{e as q,g as N,k as T,n as p,r as f,c as B,a as s,b as t,w as o,o as U,d as l,J as j,i as m,t as E,K as J}from"#entry";import"./BEHD0UYf.js";const D={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 p-4"},L={class:"max-w-md w-full space-y-8 p-4 md:p-8"},M={class:"space-y-2"},O={class:"space-y-2"},R={class:"space-y-2"},A={class:"space-y-2"},F={class:"mt-6 text-center"},G={class:"text-gray-300"},Y=q({__name:"cadastro",setup(H){N(()=>{T("@mmo/ninja/token").value&&p("/home")});const a=f({username:"",email:"",password:"",confirmPassword:""}),n=f(!1),{showError:c}=J(),w=async()=>{if(a.value.password!==a.value.confirmPassword){c("As senhas não coincidem.");return}n.value=!0;try{const i={username:a.value.username,email:a.value.email,password:a.value.password},e=await $fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});e&&e.success&&e.data&&await p("/criar-personagem")}catch{c("Dados inválidos. Verifique as informações fornecidas.")}finally{n.value=!1}};return(i,e)=>{const _=V,x=C,d=P,v=S,b=$,h=k,y=g;return U(),B("div",D,[s("div",L,[e[11]||(e[11]=s("div",{class:"text-center"},[s("h1",{class:"text-2xl md:text-4xl font-bold text-white mb-2"}," Ninja Space RPG "),s("p",{class:"text-gray-300 text-sm md:text-base"}," Crie sua conta e comece sua aventura ")],-1)),t(y,{class:"bg-white/10 backdrop-blur-sm border-white/20"},{default:o(()=>[t(x,null,{default:o(()=>[t(_,{class:"text-white text-center"},{default:o(()=>[...e[4]||(e[4]=[l("Cadastro",-1)])]),_:1})]),_:1}),t(h,null,{default:o(()=>[s("form",{onSubmit:j(w,["prevent"]),class:"space-y-4"},[s("div",M,[t(d,{for:"username",class:"text-white"},{default:o(()=>[...e[5]||(e[5]=[l("Nome de Usuário",-1)])]),_:1}),t(m(u),{id:"username",modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.username=r),type:"text",placeholder:"Seu nome de usuário",required:"",class:"bg-white/20 border-white/30 text-white placeholder:text-gray-300"},null,8,["modelValue"])]),s("div",O,[t(d,{for:"email",class:"text-white"},{default:o(()=>[...e[6]||(e[6]=[l("Email",-1)])]),_:1}),t(m(u),{id:"email",modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.email=r),type:"email",placeholder:"seu@email.com",required:"",class:"bg-white/20 border-white/30 text-white placeholder:text-gray-300"},null,8,["modelValue"])]),s("div",R,[t(d,{for:"password",class:"text-white"},{default:o(()=>[...e[7]||(e[7]=[l("Senha",-1)])]),_:1}),t(m(u),{id:"password",modelValue:a.value.password,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.password=r),type:"password",placeholder:"Sua senha",required:"",class:"bg-white/20 border-white/30 text-white placeholder:text-gray-300"},null,8,["modelValue"])]),s("div",A,[t(d,{for:"confirmPassword",class:"text-white"},{default:o(()=>[...e[8]||(e[8]=[l("Confirmar Senha",-1)])]),_:1}),t(m(u),{id:"confirmPassword",modelValue:a.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.confirmPassword=r),type:"password",placeholder:"Confirme sua senha",required:"",class:"bg-white/20 border-white/30 text-white placeholder:text-gray-300"},null,8,["modelValue"])]),t(v,{type:"submit",disabled:n.value||a.value.password!==a.value.confirmPassword,class:"w-full bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50"},{default:o(()=>[l(E(n.value?"Criando conta...":"Criar Conta"),1)]),_:1},8,["disabled"])],32),s("div",F,[s("p",G,[e[10]||(e[10]=l(" Já tem uma conta? ",-1)),t(b,{to:"/login",class:"text-blue-400 hover:text-blue-300 font-medium"},{default:o(()=>[...e[9]||(e[9]=[l(" Faça login aqui ",-1)])]),_:1})])])]),_:1})]),_:1})])])}}});export{Y as default};
